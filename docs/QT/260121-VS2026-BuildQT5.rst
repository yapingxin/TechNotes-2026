
用 Visual Studio 2026 编译和使用 QT 5.15.18
===========================================

前言
----

自从 2020 年 3 月 31 日发布 QT 5.14.2 之后，QT 不再向开源社区版用户提供二进制安装包。尽管通过在线安装的方式仍然可以获得后续开源社区版的 QT，但很多军工行业用户从此 QT 的版本永远定格在了 5.14.2，因为他们的很多计算机是不连接互联网的。

实际上 QT 的源代码是很好编译的，本文对此进行了示范。

军工行业用户多选择 QT5 而非 QT6，因为 QT5 兼容 Windows 7 操作系统，而 QT6 不再兼容 Windows 7。QT5 的最后一个 Release 版本是 QT 5.15.18，因此本文就编译 5.15.18 这个版本的源代码，QT5 的其它版本编译方法是一样的。QT6 的编译方法其实也相差不大。

本文的目标
~~~~~~~~~~

#. 采用 Visual Studio 2026 编译 QT 5.15.18 开源社区版的源代码。
#. 分别编译 QT 的动态链接库和静态库。
#. 目标平台为 Windows。

编译QT5动态链接库与静态库
-------------------------

准备工作
~~~~~~~~

下载QT5源代码
^^^^^^^^^^^^^

QT 官方网站上的开源代码入口地址是：`Qt Downloads <https://download.qt.io/>`_ ，从中找到并下载QT 5.15.18 开源社区版的源代码： `qt-everywhere-opensource-src-5.15.18.zip <https://download.qt.io/archive/qt/5.15/5.15.18/single/qt-everywhere-opensource-src-5.15.18.zip>`_

安装必需的软件
^^^^^^^^^^^^^^

将下载到的 `qt-everywhere-opensource-src-5.15.18.zip <https://download.qt.io/archive/qt/5.15/5.15.18/single/qt-everywhere-opensource-src-5.15.18.zip>`_ 解压，在源代码根目录的 README 文件中可以看到编译该源代码的系统要求：

.. raw::
   System requirements
   ------------------

    - Perl 5.8 or later
    - Python 2.7 or later
    - C++ compiler supporting the C++11 standard


根据：

#. Visual Studio 2026（安装 C++ 桌面开发的Workload）



